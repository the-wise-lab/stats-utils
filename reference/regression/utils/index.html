
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../plotting/">
      
      
        <link rel="next" href="../../reliability/icc/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Utils - Stats utils documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Stats utils documentation" class="md-header__button md-logo" aria-label="Stats utils documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Stats utils documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Utils
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 2c-1.82 0-3.53.5-5 1.35C8 5.08 10 8.3 10 12s-2 6.92-5 8.65C6.47 21.5 8.18 22 10 22a10 10 0 0 0 10-10A10 10 0 0 0 10 2Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/the-wise-lab/stats-utils" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    the-wise-lab/stats-utils
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Stats utils documentation" class="md-nav__button md-logo" aria-label="Stats utils documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Stats utils documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/the-wise-lab/stats-utils" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    the-wise-lab/stats-utils
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation for the stats utils package
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bayesian
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Bayesian
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bayesian/plotting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plotting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bayesian/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Efa
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Efa
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../efa/plotting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plotting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mediation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Mediation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mediation/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" checked>
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Regression
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Regression
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plotting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plotting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Utils
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stats_utils.regression.utils" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ols_to_markdown_table
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ols_to_markdown_table">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(ols_result)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;ols_result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(use_bootstrapping)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;use_bootstrapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(predictor_rename_dict)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;predictor_rename_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(exclude_predictors)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;exclude_predictors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(column_rename_dict)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;column_rename_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(round_dict)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;round_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(alpha_corr)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;alpha_corr
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;run_regression_and_plot
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" run_regression_and_plot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(data)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(var)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;var
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(predictors)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;predictors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(num_bootstrap_samples)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;num_bootstrap_samples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(show_plot)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;show_plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(show_summary)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;show_summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(save_fig)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;save_fig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(ax)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;ax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(figure_kwargs)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;figure_kwargs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(forest_plot_kwargs)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;forest_plot_kwargs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reliability
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Reliability
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reliability/icc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ICC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reliability/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Stats
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Stats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stats/plotting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plotting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stats_utils.regression.utils" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ols_to_markdown_table
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ols_to_markdown_table">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(ols_result)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;ols_result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(use_bootstrapping)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;use_bootstrapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(predictor_rename_dict)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;predictor_rename_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(exclude_predictors)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;exclude_predictors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(column_rename_dict)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;column_rename_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(round_dict)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;round_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.ols_to_markdown_table(alpha_corr)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;alpha_corr
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;run_regression_and_plot
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" run_regression_and_plot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(data)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(var)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;var
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(predictors)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;predictors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(num_bootstrap_samples)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;num_bootstrap_samples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(show_plot)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;show_plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(show_summary)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;show_summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(save_fig)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;save_fig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(ax)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;ax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(figure_kwargs)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;figure_kwargs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stats_utils.regression.utils.run_regression_and_plot(forest_plot_kwargs)" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;forest_plot_kwargs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="utils">Utils</h1>
<p>This module contains utility function for regression models.</p>


<div class="doc doc-object doc-module">



<h2 id="stats_utils.regression.utils" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">utils</span>


</h2>

    <div class="doc doc-contents first">









<p><span class="doc-section-title">Functions:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="stats_utils.regression.utils.ols_to_markdown_table" href="#stats_utils.regression.utils.ols_to_markdown_table">ols_to_markdown_table</a></code></b>
            –
            <div class="doc-md-description">
              <p>Convert the summary table of an OLS regression result to a markdown table.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="stats_utils.regression.utils.run_regression_and_plot" href="#stats_utils.regression.utils.run_regression_and_plot">run_regression_and_plot</a></code></b>
            –
            <div class="doc-md-description">
              <p>This function performs three steps:</p>
            </div>
          </li>
    </ul>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="stats_utils.regression.utils.ols_to_markdown_table" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">ols_to_markdown_table</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ols_to_markdown_table</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.ols_to_markdown_table(ols_result)">ols_result</a></span><span class="p">:</span> <span class="n"><span title="statsmodels.regression.linear_model.RegressionResultsWrapper">RegressionResultsWrapper</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.ols_to_markdown_table(use_bootstrapping)">use_bootstrapping</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.ols_to_markdown_table(predictor_rename_dict)">predictor_rename_dict</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict">Dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.ols_to_markdown_table(exclude_predictors)">exclude_predictors</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]]</span> <span class="o">=</span> <span class="p">[],</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.ols_to_markdown_table(column_rename_dict)">column_rename_dict</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict">Dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.ols_to_markdown_table(round_dict)">round_dict</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict">Dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.ols_to_markdown_table(alpha_corr)">alpha_corr</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert the summary table of an OLS regression result to a markdown table.
The intercept is dropped from the output.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.ols_to_markdown_table(ols_result)" class="doc doc-heading doc-heading-parameter">              <b><code>ols_result</code></b>
</h4>              (<code><span title="sm.RegressionResultsWrapper">RegressionResultsWrapper</span></code>)
          –
          <div class="doc-md-description">
            <p>The result object of an OLS regression.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.ols_to_markdown_table(use_bootstrapping)" class="doc doc-heading doc-heading-parameter">              <b><code>use_bootstrapping</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to replace CIs and p-values
with bootstrapped values if available. Defaults to <code>True</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.ols_to_markdown_table(predictor_rename_dict)" class="doc doc-heading doc-heading-parameter">              <b><code>predictor_rename_dict</code></b>
</h4>              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict">Dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A
dictionary to rename the predictors in the summary table. If not
included, predictors will be tidied slightly instead. Defaults to
<code>None</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.ols_to_markdown_table(exclude_predictors)" class="doc doc-heading doc-heading-parameter">              <b><code>exclude_predictors</code></b>
</h4>              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.List" href="https://docs.python.org/3/library/typing.html#typing.List">List</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]]</code>, default:
                  <code>[]</code>
)
          –
          <div class="doc-md-description">
            <p>A list of
predictors to exclude from the summary table. Defaults to <code>[]</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.ols_to_markdown_table(column_rename_dict)" class="doc doc-heading doc-heading-parameter">              <b><code>column_rename_dict</code></b>
</h4>              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict">Dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A
dictionary to rename the summary table columns. Defaults to a
pre-specified dictionary if not provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.ols_to_markdown_table(round_dict)" class="doc doc-heading doc-heading-parameter">              <b><code>round_dict</code></b>
</h4>              (<code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict">Dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>]]</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A dictionary to set
the rounding precision for each column. Defaults to a pre-specified
dictionary if not provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.ols_to_markdown_table(alpha_corr)" class="doc doc-heading doc-heading-parameter">              <b><code>alpha_corr</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The alpha level for multiple comparison
correction. If provided, the p-values will be corrected using the
Holm-Bonferroni method and a new column will be added to the table
with the corrected p-values (i.e., multiplied by
0.05 / alpha_corr). Defaults to <code>None</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>str</code></b> (              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
)          –
          <div class="doc-md-description">
            <p>The markdown table representing the summary table of the OLS
regression result.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python"># Fit model
model = smf.ols(&quot;Y ~ X1 + X2&quot;, data).fit()

# Convert summary table to markdown
markdown_table = ols_to_markdown_table(model)
</code></pre>
</details>
            <details class="quote">
              <summary>Source code in <code>stats_utils/regression/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">ols_to_markdown_table</span><span class="p">(</span>
    <span class="n">ols_result</span><span class="p">:</span> <span class="n">RegressionResultsWrapper</span><span class="p">,</span>
    <span class="n">use_bootstrapping</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">predictor_rename_dict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">exclude_predictors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="n">column_rename_dict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">round_dict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">alpha_corr</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert the summary table of an OLS regression result to a markdown table.</span>
<span class="sd">    The intercept is dropped from the output.</span>

<span class="sd">    Args:</span>
<span class="sd">        ols_result (sm.RegressionResultsWrapper):</span>
<span class="sd">            The result object of an OLS regression.</span>
<span class="sd">        use_bootstrapping (bool, optional): Whether to replace CIs and p-values</span>
<span class="sd">            with bootstrapped values if available. Defaults to `True`.</span>
<span class="sd">        predictor_rename_dict (Optional[Dict[str, str]], optional): A</span>
<span class="sd">            dictionary to rename the predictors in the summary table. If not</span>
<span class="sd">            included, predictors will be tidied slightly instead. Defaults to</span>
<span class="sd">            `None`.</span>
<span class="sd">        exclude_predictors (Optional[List[str]], optional): A list of</span>
<span class="sd">            predictors to exclude from the summary table. Defaults to `[]`.</span>
<span class="sd">        column_rename_dict (Optional[Dict[str, str]], optional): A</span>
<span class="sd">            dictionary to rename the summary table columns. Defaults to a</span>
<span class="sd">            pre-specified dictionary if not provided.</span>
<span class="sd">        round_dict (Optional[Dict[str, int]], optional): A dictionary to set</span>
<span class="sd">            the rounding precision for each column. Defaults to a pre-specified</span>
<span class="sd">            dictionary if not provided.</span>
<span class="sd">        alpha_corr (float, optional): The alpha level for multiple comparison</span>
<span class="sd">            correction. If provided, the p-values will be corrected using the</span>
<span class="sd">            Holm-Bonferroni method and a new column will be added to the table</span>
<span class="sd">            with the corrected p-values (i.e., multiplied by</span>
<span class="sd">            0.05 / alpha_corr). Defaults to `None`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The markdown table representing the summary table of the OLS</span>
<span class="sd">            regression result.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Fit model</span>
<span class="sd">        model = smf.ols(&quot;Y ~ X1 + X2&quot;, data).fit()</span>

<span class="sd">        # Convert summary table to markdown</span>
<span class="sd">        markdown_table = ols_to_markdown_table(model)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Default column renaming dict</span>
    <span class="k">if</span> <span class="n">column_rename_dict</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">column_rename_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;Coef.&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">beta$&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Std.Err.&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">beta_</span><span class="si">{SE}</span><span class="s2">$&quot;</span><span class="p">,</span>
            <span class="s2">&quot;t&quot;</span><span class="p">:</span> <span class="s2">&quot;$t$&quot;</span><span class="p">,</span>
            <span class="s2">&quot;P&gt;|t|&quot;</span><span class="p">:</span> <span class="s2">&quot;$p$&quot;</span><span class="p">,</span>
            <span class="s2">&quot;[0.025&quot;</span><span class="p">:</span> <span class="s2">&quot;$CI_</span><span class="si">{2.5}</span><span class="s2">$&quot;</span><span class="p">,</span>
            <span class="s2">&quot;0.975]&quot;</span><span class="p">:</span> <span class="s2">&quot;$CI_</span><span class="si">{97.5}</span><span class="s2">$&quot;</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="c1"># Default rounding precision dict</span>
    <span class="k">if</span> <span class="n">round_dict</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">round_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">beta$&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">beta_</span><span class="si">{SE}</span><span class="s2">$&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;$t$&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;$p$&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;$p_</span><span class="si">{corr}</span><span class="s2">$&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;$CI_</span><span class="si">{2.5}</span><span class="s2">$&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;$CI_</span><span class="si">{97.5}</span><span class="s2">$&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="c1"># Convert the summary table to a DataFrame</span>
    <span class="n">summary_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ols_result</span><span class="o">.</span><span class="n">summary2</span><span class="p">()</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="c1"># Replace CIs and pvals with bootstrapped values if bootstrapping was used</span>
    <span class="k">if</span> <span class="n">use_bootstrapping</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ols_result</span><span class="p">,</span> <span class="s2">&quot;pvalues_bootstrap&quot;</span><span class="p">):</span>
            <span class="n">summary_df</span><span class="p">[</span><span class="s2">&quot;P&gt;|t|&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ols_result</span><span class="o">.</span><span class="n">pvalues_bootstrap</span>
            <span class="n">summary_df</span><span class="p">[</span><span class="s2">&quot;[0.025&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ols_result</span><span class="o">.</span><span class="n">conf_int</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">summary_df</span><span class="p">[</span><span class="s2">&quot;0.975]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ols_result</span><span class="o">.</span><span class="n">conf_int</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">summary_df</span> <span class="o">=</span> <span class="n">summary_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="s2">&quot;OLS model does not have bootstrapped samples. &quot;</span>
                <span class="s2">&quot;Using original values.&quot;</span>
            <span class="p">)</span>

    <span class="c1"># Process the summary table</span>
    <span class="n">summary_df</span> <span class="o">=</span> <span class="n">process_summary_table</span><span class="p">(</span>
        <span class="n">summary_df</span><span class="p">,</span>
        <span class="n">predictor_rename_dict</span><span class="o">=</span><span class="n">predictor_rename_dict</span><span class="p">,</span>
        <span class="n">exclude_predictors</span><span class="o">=</span><span class="n">exclude_predictors</span><span class="p">,</span>
        <span class="n">column_rename_dict</span><span class="o">=</span><span class="n">column_rename_dict</span><span class="p">,</span>
        <span class="n">round_dict</span><span class="o">=</span><span class="n">round_dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Correct p-values for multiple comparisons</span>
    <span class="k">if</span> <span class="n">alpha_corr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">summary_df</span><span class="p">[</span><span class="s2">&quot;$p_</span><span class="si">{corr}</span><span class="s2">$&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">summary_df</span><span class="p">[</span><span class="s2">&quot;$p$&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.05</span> <span class="o">/</span> <span class="n">alpha_corr</span><span class="p">)</span>
        <span class="n">summary_df</span><span class="p">[</span><span class="s2">&quot;$p_</span><span class="si">{corr}</span><span class="s2">$&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">summary_df</span><span class="p">[</span><span class="s2">&quot;$p_</span><span class="si">{corr}</span><span class="s2">$&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">upper</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Convert to markdown table</span>
    <span class="n">markdown_table</span> <span class="o">=</span> <span class="n">dataframe_to_markdown</span><span class="p">(</span>
        <span class="n">summary_df</span><span class="p">,</span>
        <span class="n">rename_dict</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">pval_columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;$p$&quot;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span> <span class="s2">&quot;$p_</span><span class="si">{corr}</span><span class="s2">$&quot;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">},</span>
        <span class="n">round_dict</span><span class="o">=</span><span class="n">round_dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">markdown_table</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="stats_utils.regression.utils.run_regression_and_plot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">run_regression_and_plot</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">run_regression_and_plot</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(data)">data</a></span><span class="p">:</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(var)">var</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(predictors)">predictors</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(num_bootstrap_samples)">num_bootstrap_samples</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(show_plot)">show_plot</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(show_summary)">show_summary</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(save_fig)">save_fig</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(ax)">ax</a></span><span class="p">:</span> <span class="n"><span title="matplotlib.axes.Axes">Axes</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(figure_kwargs)">figure_kwargs</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" href="#stats_utils.regression.utils.run_regression_and_plot(forest_plot_kwargs)">forest_plot_kwargs</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a></span><span class="p">[</span><span class="n"><span title="statsmodels.regression.linear_model.RegressionResultsWrapper">RegressionResultsWrapper</span></span><span class="p">,</span> <span class="n"><span title="matplotlib.axes.Axes">Axes</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>This function performs three steps:</p>
<p>1) Run a regression analysis using the <code>statsmodels</code> package.</p>
<p>2) Perform bootstrap resampling to estimate confidence intervals
     and p-values.</p>
<p>3) Create a forest plot of the regression coefficients (indicating
    significance and confidence intervals).</p>
<blockquote>
<p>⚠️ NOTE: This function estimates confidence intervals and p-values
using boostrapping. The p-values and confidence intervals given in
the model summary are not derived from the bootstrap samples and so
may not necessarily correspond to what is shown in the figure (which
uses confidence intervals and significance derived from resampling).
To obtain p-values and confidence intervals from the bootstrap samples,
you can access them from the <code>model</code> object returned by this
function. For example, to get the 95% confidence intervals for all
predictors, you can use <code>model.conf_int_bootstrap(alpha=0.05)</code>,
and to get the p-values, you can use <code>model.pvalues_bootstrap</code>.</p>
</blockquote>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(data)" class="doc doc-heading doc-heading-parameter">              <b><code>data</code></b>
</h4>              (<code><span title="pandas.DataFrame">DataFrame</span></code>)
          –
          <div class="doc-md-description">
            <p>The data frame containing the variables used
in the model.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(var)" class="doc doc-heading doc-heading-parameter">              <b><code>var</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>The dependent variable in the regression model.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(predictors)" class="doc doc-heading doc-heading-parameter">              <b><code>predictors</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>A string representing predictor variables in the
regression model.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(num_bootstrap_samples)" class="doc doc-heading doc-heading-parameter">              <b><code>num_bootstrap_samples</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>2000</code>
)
          –
          <div class="doc-md-description">
            <p>The number of bootstrap
samples to use for estimating the sampling distribution.
Defaults to <code>2000</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(show_plot)" class="doc doc-heading doc-heading-parameter">              <b><code>show_plot</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If <code>True</code>, shows the plot. Defaults to
<code>True</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(show_summary)" class="doc doc-heading doc-heading-parameter">              <b><code>show_summary</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If <code>True</code>, shows the model summary.
Defaults to <code>True</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(save_fig)" class="doc doc-heading doc-heading-parameter">              <b><code>save_fig</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>If <code>True</code>, saves the figure. Defaults to
<code>True</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(ax)" class="doc doc-heading doc-heading-parameter">              <b><code>ax</code></b>
</h4>              (<code><span title="matplotlib.axes.Axes">Axes</span></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>The Axes object to plot on. If <code>None</code>, creates
a new figure and axes. Defaults to <code>None</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(figure_kwargs)" class="doc doc-heading doc-heading-parameter">              <b><code>figure_kwargs</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Keyword arguments to pass to the
<code>plt.subplots</code> function. Defaults to <code>None</code>.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="stats_utils.regression.utils.run_regression_and_plot(forest_plot_kwargs)" class="doc doc-heading doc-heading-parameter">              <b><code>forest_plot_kwargs</code></b>
</h4>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Keyword arguments to pass to
the <code>forest_plot</code> function. Defaults to <code>None</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>tuple</code></b> (              <code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple">Tuple</a>[<span title="statsmodels.regression.linear_model.RegressionResultsWrapper">RegressionResultsWrapper</span>, <span title="matplotlib.axes.Axes">Axes</span>]</code>
)          –
          <div class="doc-md-description">
            <p>Containing:
model
(statsmodels.regression.linear_model.RegressionResultsWrapper):
    The fitted model object.
ax (plt.Axes): The Axes object with the plot.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python"># Fit model and plot
model, ax = run_regression_and_plot(
    data,
    &quot;Y&quot;,
    &quot;X1 + X2 + X3&quot;,
)

# Get the 95% confidence intervals for the predictors
print(model.conf_int_bootstrap(alpha=0.05))

# Get the p-values for the predictors
print(model.pvalues_bootstrap)
</code></pre>
</details>
            <details class="quote">
              <summary>Source code in <code>stats_utils/regression/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run_regression_and_plot</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">var</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">predictors</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">num_bootstrap_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>
    <span class="n">show_plot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">show_summary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">save_fig</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ax</span><span class="p">:</span> <span class="n">Axes</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">figure_kwargs</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">forest_plot_kwargs</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">RegressionResultsWrapper</span><span class="p">,</span> <span class="n">Axes</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function performs three steps:</span>

<span class="sd">    1) Run a regression analysis using the `statsmodels` package.\n</span>
<span class="sd">    2) Perform bootstrap resampling to estimate confidence intervals</span>
<span class="sd">         and p-values.\n</span>
<span class="sd">    3) Create a forest plot of the regression coefficients (indicating</span>
<span class="sd">        significance and confidence intervals).\n</span>

<span class="sd">    &gt; ⚠️ NOTE: This function estimates confidence intervals and p-values</span>
<span class="sd">    using boostrapping. The p-values and confidence intervals given in</span>
<span class="sd">    the model summary are not derived from the bootstrap samples and so</span>
<span class="sd">    may not necessarily correspond to what is shown in the figure (which</span>
<span class="sd">    uses confidence intervals and significance derived from resampling).</span>
<span class="sd">    To obtain p-values and confidence intervals from the bootstrap samples,</span>
<span class="sd">    you can access them from the `model` object returned by this</span>
<span class="sd">    function. For example, to get the 95% confidence intervals for all</span>
<span class="sd">    predictors, you can use `model.conf_int_bootstrap(alpha=0.05)`,</span>
<span class="sd">    and to get the p-values, you can use `model.pvalues_bootstrap`.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (pd.DataFrame): The data frame containing the variables used</span>
<span class="sd">            in the model.</span>
<span class="sd">        var (str): The dependent variable in the regression model.</span>
<span class="sd">        predictors (str): A string representing predictor variables in the</span>
<span class="sd">            regression model.</span>
<span class="sd">        num_bootstrap_samples (int, optional): The number of bootstrap</span>
<span class="sd">            samples to use for estimating the sampling distribution.</span>
<span class="sd">            Defaults to `2000`.</span>
<span class="sd">        show_plot (bool, optional): If `True`, shows the plot. Defaults to</span>
<span class="sd">            `True`.</span>
<span class="sd">        show_summary (bool, optional): If `True`, shows the model summary.</span>
<span class="sd">            Defaults to `True`.</span>
<span class="sd">        save_fig (bool, optional): If `True`, saves the figure. Defaults to</span>
<span class="sd">            `True`.</span>
<span class="sd">        ax (Axes, optional): The Axes object to plot on. If `None`, creates</span>
<span class="sd">            a new figure and axes. Defaults to `None`.</span>
<span class="sd">        figure_kwargs (dict, optional): Keyword arguments to pass to the</span>
<span class="sd">            `plt.subplots` function. Defaults to `None`.</span>
<span class="sd">        forest_plot_kwargs (dict, optional): Keyword arguments to pass to</span>
<span class="sd">            the `forest_plot` function. Defaults to `None`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple: Containing:</span>
<span class="sd">            model</span>
<span class="sd">            (statsmodels.regression.linear_model.RegressionResultsWrapper):</span>
<span class="sd">                The fitted model object.</span>
<span class="sd">            ax (plt.Axes): The Axes object with the plot.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Fit model and plot</span>
<span class="sd">        model, ax = run_regression_and_plot(</span>
<span class="sd">            data,</span>
<span class="sd">            &quot;Y&quot;,</span>
<span class="sd">            &quot;X1 + X2 + X3&quot;,</span>
<span class="sd">        )</span>

<span class="sd">        # Get the 95% confidence intervals for the predictors</span>
<span class="sd">        print(model.conf_int_bootstrap(alpha=0.05))</span>

<span class="sd">        # Get the p-values for the predictors</span>
<span class="sd">        print(model.pvalues_bootstrap)</span>
<span class="sd">        ```</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># 1. Run Regression Analysis</span>
    <span class="c1"># smf.ols creates a model from a formula and dataframe</span>
    <span class="c1"># f&#39;{var} ~ {predictors}&#39; generates a model formula string.</span>
    <span class="c1"># E.g., &#39;Y ~ X1 + X2&#39;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> ~ </span><span class="si">{</span><span class="n">predictors</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

    <span class="c1"># Display the model summary, which includes things like coefficient values,</span>
    <span class="c1"># R-squared, p-values, etc.</span>
    <span class="k">if</span> <span class="n">show_summary</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>

    <span class="c1"># 2. Bootstrap</span>
    <span class="c1"># add_bootstrap_methods_to_ols adds bootstrap methods to the model.</span>
    <span class="n">fitted_model</span> <span class="o">=</span> <span class="n">add_bootstrap_methods_to_ols</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

    <span class="c1"># Perform bootstrap resampling to estimate the sampling distribution of the</span>
    <span class="c1"># estimator and calculate confidence intervals</span>
    <span class="n">fitted_model</span><span class="o">.</span><span class="n">bootstrap</span><span class="p">(</span><span class="n">num_bootstrap_samples</span><span class="p">)</span>

    <span class="c1"># 3. Create Forest Plot</span>
    <span class="c1"># This creates a new figure and axes object for the plot</span>
    <span class="k">if</span> <span class="n">figure_kwargs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">figure_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="o">**</span><span class="n">figure_kwargs</span><span class="p">)</span>

    <span class="c1"># Create the forest plot using the forest_plot function</span>
    <span class="k">if</span> <span class="n">forest_plot_kwargs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">forest_plot_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">forest_plot</span><span class="p">(</span><span class="n">fitted_model</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="o">**</span><span class="n">forest_plot_kwargs</span><span class="p">)</span>

    <span class="c1"># 4. Save and/or Display the Plot</span>
    <span class="c1"># If save_fig is True, save the figure to disk before showing it</span>
    <span class="k">if</span> <span class="n">save_fig</span><span class="p">:</span>
        <span class="c1"># Create a file name string, replacing spaces and plus signs with</span>
        <span class="c1"># underscores and removing pipe characters</span>
        <span class="n">predictors_str</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">predictors</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">,</span> <span class="s2">&quot;or&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Create a filename using both dependent and predictor variable names,</span>
        <span class="c1"># improving traceability of the saved plot</span>
        <span class="n">fig_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2">_vs_</span><span class="si">{</span><span class="n">predictors_str</span><span class="si">}</span><span class="s2">.svg&quot;</span>

        <span class="c1"># Check if &#39;figures&#39; directory exists. If not, create it.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;figures&quot;</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s2">&quot;figures&quot;</span><span class="p">)</span>

        <span class="c1"># Adjust the layout to ensure that it looks good and then save the</span>
        <span class="c1"># figure as an SVG file in the &#39;figures&#39; directory</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;figures/</span><span class="si">{</span><span class="n">fig_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Show the plot in the notebook/output</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">show_plot</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="c1"># 5. Return Axes This will return the ax object, which can be used for</span>
    <span class="c1"># further customization outside of the function</span>
    <span class="k">return</span> <span class="n">model</span><span class="p">,</span> <span class="n">ax</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>